!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,r){!function(e,t){if(!v[e]||!E[e])return;for(var r in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(h[r]=t[r]);0==--m&&0===_&&T()}(e,r),t&&t(e,r)};var r,n=!0,s="4c0ea4cde1d4f66aa295",o=1e4,i={},a=[],c=[];function l(e){var t=S[e];if(!t)return w;var n=function(n){return t.hot.active?(S[n]?-1===S[n].parents.indexOf(e)&&S[n].parents.push(e):(a=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),a=[]),w(n)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return w[e]},set:function(t){w[e]=t}}};for(var o in w)Object.prototype.hasOwnProperty.call(w,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,s(o));return n.e=function(e){return"ready"===d&&p("prepare"),_++,w.e(e).then(t,function(e){throw t(),e});function t(){_--,"prepare"===d&&(y[e]||O(e),0===_&&0===m&&T())}},n.t=function(e,t){return 1&t&&(e=n(e)),w.t(e,-2&t)},n}var u=[],d="idle";function p(e){d=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var f,h,g,m=0,_=0,y={},E={},v={};function I(e){return+e+""===e?+e:e}function b(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return n=e,p("check"),function(e){return e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,o=w.p+""+s+".hot-update.json";n.open("GET",o,!0),n.timeout=e,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+o+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void r(e)}t(e)}}})}(o).then(function(e){if(!e)return p("idle"),null;E={},y={},v=e.c,g=e.h,p("prepare");var t=new Promise(function(e,t){f={resolve:e,reject:t}});h={};return O(0),"prepare"===d&&0===_&&0===m&&T(),t})}function O(e){v[e]?(E[e]=!0,m++,function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.src=w.p+""+e+"."+s+".hot-update.js",t.appendChild(r)}(e)):y[e]=!0}function T(){p("ready");var e=f;if(f=null,e)if(n)Promise.resolve().then(function(){return A(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&t.push(I(r));e.resolve(t)}}function A(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var r,n,o,c,l;function u(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var s=n.pop(),o=s.id,i=s.chain;if((c=S[o])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:o};if(c.hot._main)return{type:"unaccepted",chain:i,moduleId:o};for(var a=0;a<c.parents.length;a++){var l=c.parents[a],u=S[l];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:i.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(u.hot._acceptedDependencies[o]?(r[l]||(r[l]=[]),f(r[l],[o])):(delete r[l],t.push(l),n.push({chain:i.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var m={},_=[],y={},E=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)){var O;l=I(b);var T=!1,A=!1,P=!1,F="";switch((O=h[b]?u(l):{type:"disposed",moduleId:b}).chain&&(F="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(T=new Error("Aborted because of self decline: "+O.moduleId+F));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+F));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(T=new Error("Aborted because "+l+" is not accepted"+F));break;case"accepted":t.onAccepted&&t.onAccepted(O),A=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),P=!0;break;default:throw new Error("Unexception type "+O.type)}if(T)return p("abort"),Promise.reject(T);if(A)for(l in y[l]=h[l],f(_,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,l)&&(m[l]||(m[l]=[]),f(m[l],O.outdatedDependencies[l]));P&&(f(_,[O.moduleId]),y[l]=E)}var R,D=[];for(n=0;n<_.length;n++)l=_[n],S[l]&&S[l].hot._selfAccepted&&D.push({module:l,errorHandler:S[l].hot._selfAccepted});p("dispose"),Object.keys(v).forEach(function(e){!1===v[e]&&function(e){delete installedChunks[e]}(e)});for(var j,N,L=_.slice();L.length>0;)if(l=L.pop(),c=S[l]){var C={},U=c.hot._disposeHandlers;for(o=0;o<U.length;o++)(r=U[o])(C);for(i[l]=C,c.hot.active=!1,delete S[l],delete m[l],o=0;o<c.children.length;o++){var $=S[c.children[o]];$&&((R=$.parents.indexOf(l))>=0&&$.parents.splice(R,1))}}for(l in m)if(Object.prototype.hasOwnProperty.call(m,l)&&(c=S[l]))for(N=m[l],o=0;o<N.length;o++)j=N[o],(R=c.children.indexOf(j))>=0&&c.children.splice(R,1);for(l in p("apply"),s=g,y)Object.prototype.hasOwnProperty.call(y,l)&&(e[l]=y[l]);var x=null;for(l in m)if(Object.prototype.hasOwnProperty.call(m,l)&&(c=S[l])){N=m[l];var H=[];for(n=0;n<N.length;n++)if(j=N[n],r=c.hot._acceptedDependencies[j]){if(-1!==H.indexOf(r))continue;H.push(r)}for(n=0;n<H.length;n++){r=H[n];try{r(N)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:N[n],error:e}),t.ignoreErrored||x||(x=e)}}}for(n=0;n<D.length;n++){var G=D[n];l=G.module,a=[l];try{w(l)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:r,originalError:e}),t.ignoreErrored||x||(x=r),x||(x=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||x||(x=e)}}return x?(p("fail"),Promise.reject(x)):(p("idle"),new Promise(function(e){e(_)}))}var S={};function w(t){if(S[t])return S[t].exports;var n=S[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:b,apply:A,status:function(e){if(!e)return d;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:i[e]};return r=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(n.exports,n,n.exports,l(t)),n.l=!0,n.exports}w.m=e,w.c=S,w.d=function(e,t,r){w.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},w.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},w.t=function(e,t){if(1&t&&(e=w(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(w.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)w.d(r,n,function(t){return e[t]}.bind(null,n));return r},w.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return w.d(t,"a",t),t},w.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},w.p="",w.h=function(){return s},l("./src/index.js")(w.s="./src/index.js")}({"./src/index.js":function(e,t,r){"use strict";r.r(t);r("./src/index.scss");class n{constructor(e){this.element=document.querySelector(e),this.listResults=[],this.pageCtaContainer=this.element.querySelector(a.PAGINATOR_CONTAINER),this.paginatorSelector=this.element.querySelector(a.PAGINATOR_CONTAINER)}setDataPageAttr(e,t){e.setAttribute("data-page",t),t%s.PAGE_INDEX==0&&this.setPaginatorCta(t)}setPaginatorCta(e){let t,r="",n=0;n%s.PAGE_INDEX||(r+=`<button data-number="${n=e/s.PAGE_INDEX+1}">${n}</button>`),this.pageCtaContainer.innerHTML+=r,(t=this.paginatorSelector.querySelector("[data-number]")).classList.add(o.ACTIVE)}showPage(e){const t=e*s.PAGE_INDEX,r=(e-1)*s.PAGE_INDEX;Array.from(this.listResults,(e,n)=>{e.style.display="none",(n+=1)>r&&n<=t&&(e.style.display="flex")})}render(){this.pageCtaContainer.innerHTML="",this.listResults=this.element.querySelectorAll(a.PROJECT_LIST),Array.from(this.listResults,(e,t)=>{this.setDataPageAttr(e,t),t>s.PAGE_INDEX&&(e.style.display="none")}),this.listenEvents()}listenEvents(){const e=this.paginatorSelector.querySelectorAll("[data-number]");this.paginatorSelector.addEventListener(i.CLICK,t=>{const r=t.target,n=r.getAttribute("data-number");Array.from(e,e=>{e.classList.remove(o.ACTIVE)}),r.classList.add(o.ACTIVE),this.showPage(n)})}}const s={PAGE_INDEX:5},o={ACTIVE:"active"},i={CLICK:"click"},a={PROJECT_LIST:".js-project",PAGINATOR_CONTAINER:".js-listPaginator",PAGINATOR_CTA:".js-pageNumber"};class c{constructor(e){this.element=document.querySelector(e),this.filterBy=[],this.paginator=new n("[paginator-component]")}render(e){this.element.innerHTML="";let t="";(e=e||[]).length?e.forEach(e=>{const r=`${e.login_html_url}/${e.name}${l.SUFFIX_BRANCHES}`;let n="";e.languages_url&&e.languages_url.forEach(e=>{n+=`<li>\n              <span>${e}</span>\n            </li>`}),t+=`<li class="js-project">\n          <a href="${r}"\n          rel="noopener" target="_blank">\n            ${e.name}\n          </a>\n          <span>Forks: ${e.forks_count}</span>\n          <span>Stars: ${e.stargazers_count}</span>\n          <br>\n          <div>\n            <div>Languages:</div>\n            <ul>\n              ${n}\n            </ul>\n          </div>\n        </li>`}):t="<h3>No Results</h3>",this.element.innerHTML+=t,this.paginator.render()}init(){this.render()}}const l={SUFFIX_BRANCHES:"/branches"},u=(e,t)=>{let r=null;if(!window.requestAnimationFrame)return window.setTimeout(e,t);const n=s=>{r||(r=s),s-r<t?window.requestAnimationFrame(n):e()};window.requestAnimationFrame(n)};class d{constructor(e){this.element=document.querySelector(e),this.filterForm=this.element.querySelector(h.FILTER_FORM),this.currentData=[],this.results=new c("[results-component]")}listenEvents(){this.filterForm.addEventListener(p.SUBMIT,e=>{e.preventDefault(),this.controller(e.target.id)})}controller(e){const t=e=>{const t=this.filterForm.querySelectorAll(`#${e} ${h.INPUT_FILTER}`);let r=[],n=[];Array.from(t,e=>{e.checked&&r.push(e.value)}),this.currentData.length&&this.currentData.filter(e=>{e.languages_url.forEach(t=>{r.forEach(r=>{t===r&&n.push(e)})})}),this.results.render(n)},r=e=>{let t=this.filterForm.querySelector(`#${e} ${h.INPUT_FILTER}`).value||0,r=[];t=parseInt(t),r=this.currentData.filter(e=>e.forks_count===t),this.results.render(r)};switch(e){case m.LANGUAGES:t(m.LANGUAGES);break;case m.FORKS:r(m.FORKS)}}setData(e){this.currentData=e}resetControls_(){this.filterForm.innerHTML=""}setControlFilter(e,t){e||t?new Promise(e=>{this.resetControls_(),u(()=>e(),100)}).then(()=>{let r=`<hr><form id="${e}">\n          <label for="${e}">\n            Filter by ${e}\n          </label>\n        <br>`;const n=()=>{t.forEach(e=>{r+=`<input class="${f.INPUT_FILTER}"\n          type="checkbox"\n          name="${e}"\n          value="${e}">${e}<br>`}),r+='<button type="submit">filter</button><form><br>',this.filterForm.innerHTML+=r},s=()=>{r+=`<input class="${f.INPUT_FILTER}" type="number"\n                        name="forks"\n                        value=""/><br>\n        <button type="submit">filter</button><form><br>`,this.filterForm.innerHTML+=r};switch(e){case m.LANGUAGES:n();break;case m.FORKS:s()}}):this.resetControls_()}init(){this.listenEvents()}}const p={SUBMIT:"submit"},f={INPUT_FILTER:"js-filterInput"},h={FILTER_FORM:".js-filterForm",INPUT_FILTER:`.${f.INPUT_FILTER}`},g=(e,t)=>new Promise((r,n)=>{const s=new XMLHttpRequest;s.open(e,t),s.onload=(()=>{s.status>=200&&s.status<300?r(s.response):n({status:s.status,statusText:s.statusText})}),s.onerror=(()=>{n({status:s.status,statusText:s.statusText})}),s.send()});const m={LANGUAGES:"languages",FORKS:"forks"},_={PREFIX_API_GITHUB:"https://api.github.com/users/",SUFFIX_API_LANGUAGE:"/languages",SUFFIX_API_REPO:"/repos",SUFFIX_TOKENS:`${"?client_id=aeecd304f54029b1c06b"}${"&client_secret=957d97f8488f9b323952eb55f7c1c1e2dbf2c900"}`},y={SUBMIT:"submit"},E={ORG_FORM:".js-orgForm",FIELD_SELECTOR:".js-formInput",PROJECT_LIST_CONTAINER:".js-listContainer"};new class{constructor(e){this.element=document.querySelector(e),this.orgForm=this.element.querySelector(E.ORG_FORM),this.formInput=this.element.querySelector(E.FIELD_SELECTOR),this.dataOrg=[],this.dataToRender=[],this.languagesOrg=new Set,this.filter=new d("[filter-component]"),this.results=new c("[results-component]")}requestOrg(e){const t=`${_.PREFIX_API_GITHUB}${e}`,r=`${_.SUFFIX_API_REPO}${_.SUFFIX_TOKENS}`;return g("GET",`${t}${r}`).then(e=>e).catch(e=>(console.error("GitHub user does not exist!",e.statusText),u(()=>{this.resetApp()},400),[]))}requestLanguageProject_(e){const t=`${e}${_.SUFFIX_TOKENS}`;return g("GET",t).then(e=>e).catch(e=>(console.error("Project does not have languages!",e.statusText),{}))}listenEvents(){this.orgForm.addEventListener(y.SUBMIT,e=>{e.preventDefault(),this.formInput.value&&this.requestOrg(this.formInput.value).then(e=>{this.dataOrg=e,new Promise(e=>{this.filterDataToRender_(),e()}).then(()=>{u(()=>{this.dataToRender.length&&(this.filter.setData(this.dataToRender),this.results.render(this.dataToRender),this.assignFiltersControl([[m.LANGUAGES,this.languagesOrg],[m.FORKS]]))},400)})})})}filterDataToRender_(){this.dataOrg.length&&(this.dataOrg=JSON.parse(this.dataOrg),this.languagesOrg=new Set,this.dataToRender=this.dataOrg.reduce((e,t)=>{let r={};return r={forks_count:t.forks_count,full_name:t.full_name,login_html_url:t.owner.html_url,name:t.name,stargazers_count:t.stargazers_count},this.requestLanguageProject_(t.languages_url).then(e=>{const t=JSON.parse(e);r.languages_url=Object.keys(t).map(e=>(this.languagesOrg.add(e),e))}).catch(e=>{console.error("Augh, there was an error!",e.statusText),r.languages_url=[]}),e.concat(r)},[]).sort((e,t)=>t.stargazers_count-e.stargazers_count))}resetApp(){this.dataOrg=[],this.dataToRender=[],this.filter.setData([]),this.results.render([]),this.assignFiltersControl([])}assignFiltersControl(e){e.length?e.forEach(e=>{this.filter.setControlFilter(e[0],e[1])}):this.filter.setControlFilter()}init(){this.listenEvents(),this.filter.init(),this.results.init()}}("[search-component]").init()},"./src/index.scss":function(e,t){}});